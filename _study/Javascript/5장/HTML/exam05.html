<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>while문의 무한루프</title>
</head>
<body>
    <script>
        let low = 0; //범위의 최솟값
        let high = 0; //범위의 최댓값
        let card = 0; // 정답
        // 게임의 정답을 맞추기 위해서 무한루프를 돌림

        while (true) {
            let count = 0; //시도횟수
            low = 0;
            high = prompt("최종 숫자를 입력하세요","1000");
            card = Math.floor(Math.random()*high); // 0 ~ {high} 까지 난수를 발생시킴
            alert("수를 결정했습니다!! 맞추어 보세요!!");
            // 내부 루프의 경우는 정해진 난수를 맞출때까지 무한루프

            while (true) { //for(;;) -> for문을 무한루프성으로 만든 코드
                let n = 0 ;
                alert(`범위 : ${low} ~ ${high}`);
                count++;
                alert(`시도 횟수 ${count} 번째`);

                n = prompt(`숫자를 입력하세요!`);
                n = parseInt(n); // 문자열을 숫자로 바꾸어주는 함수

                if (n > high || n < low) {
                    alert(`값의 범위를 벗어났습니다.`);
                } else {
                    if (n === card) {
                        alert(`정답입니다!!`);
                        break;
                    } else if( n > card) {
                        alert(`정답은 더 낮은 수 입니다.`);
                        high = n;
                    } else {
                        alert(`정답은 더 높은 수 입니다.`);
                        low = n;
                    }
                }
            } alert(`정답은 "${card}" 입니다!!
시도 횟수는 "${count}" 입니다!!`);
            let con = confirm(`다시 게임을 하시겠습니까?`);
            if (con == false) {
                document.write(`시도횟수 : ${count}번`);
                break; // 무한루프를 사용할 경우 반드시 빠져나가는 코드가 필요하다!                
            }
        }
    </script>
</body>
</html>